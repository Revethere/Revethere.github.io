
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <title>ã€ä½ç‰ˆæœ¬ pvp ä¸­ç©å®¶æœ€ä¼˜ kb çš„ç‚¹å‡»é¢‘ç‡ä¸‹é™åˆ†æã€ | Revethere&#39;s Blog</title>
    <meta name="author" content="Revethereâ‚‚â‚€â‚‚â‚„" />
    <meta name="description" content="Could it be MAGIC~" />
    <meta name="keywords" content="Revethere, Minecraft, INTP, KPOP, Code" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>










<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜ æµè§ˆå™¨é»˜è®¤å¼€å¯</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>REVETHERE&#39;S BLOG</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;é¦–é¡µ | Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;å…³äº | About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;å½’æ¡£ | Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;åˆ†ç±» | Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;æ ‡ç­¾ | Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;REVETHERE&#39;S BLOG</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">é¦–é¡µ | Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">å…³äº | About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">å½’æ¡£ | Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">åˆ†ç±» | Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">æ ‡ç­¾ | Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>ã€ä½ç‰ˆæœ¬ pvp ä¸­ç©å®¶æœ€ä¼˜ kb çš„ç‚¹å‡»é¢‘ç‡ä¸‹é™åˆ†æã€</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/10/18
        </span>
        
        <span class="category">
            <a href="/categories/%E7%90%86%E8%AE%BA/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                ç†è®º
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/Minecraft/" style="color: #00bcd4">
                    Minecraft
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/sumo/" style="color: #ffa2c4">
                    sumo
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/Java/" style="color: #00a596">
                    Java
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>âš ï¸<strong>ç¡¬æ ¸è­¦å‘Š</strong>âš ï¸</p>
<p>è‹±è¯‘ç‰ˆè§<a href="https://revethere.github.io/posts/academic@min-kb-click-freq-lower-bound-en/">ã€Minimum KB Click Frequency Lower Bound Analysisã€</a>.</p>
<p>æœ¬æ–‡åŒ…å«å¤§é‡æ•°å­¦å…¬å¼å’Œä»£ç åˆ†æï¼Œå»ºè®®å…·å¤‡ä¸€å®šç†è®ºåŸºç¡€é˜…è¯»ã€‚</p>
<p>æ¬¢è¿å„ä½å¤§ä½¬æŒ‡æ­£ğŸ¥°ã€‚</p>
<p><del>å—¯â€¦â€¦AI å¸®äº†ç‚¹å°å¿™ï¼Œè¿˜æ˜¯æŒºå¥½çœ‹å‡ºæ¥çš„ï¼Œå¯¹å§ã€‚</del></p>
<hr>
<h2 id="ç‰©ç†å­¦æ¡†æ¶ä¸‹çš„-Minecraft-å®ä½“è¿åŠ¨"><a href="#ç‰©ç†å­¦æ¡†æ¶ä¸‹çš„-Minecraft-å®ä½“è¿åŠ¨" class="headerlink" title="ç‰©ç†å­¦æ¡†æ¶ä¸‹çš„ Minecraft å®ä½“è¿åŠ¨"></a>ç‰©ç†å­¦æ¡†æ¶ä¸‹çš„ Minecraft å®ä½“è¿åŠ¨</h2><h3 id="ç»å…¸åŠ›å­¦ä¸‹çš„è¿åŠ¨"><a href="#ç»å…¸åŠ›å­¦ä¸‹çš„è¿åŠ¨" class="headerlink" title="ç»å…¸åŠ›å­¦ä¸‹çš„è¿åŠ¨"></a>ç»å…¸åŠ›å­¦ä¸‹çš„è¿åŠ¨</h3><p>$$\frac{dv}{dt} &#x3D; a - fv \tag{1.1.1}$$</p>
<p>$$v &#x3D; v_0 e^{-ft} + \frac{a}{f} (1 - e^{-ft}) \tag{1.1.2}$$</p>
<p>$$\frac{v}{v_0} &#x3D; \lim\limits_{t_0 \to 0} (1 - f t_0)^{\frac{t}{t_0}}, a &#x3D; 0 \tag{1.1.3}$$</p>
<p>å…¬å¼ (1.1.1) æè¿°äº†ç‰©ä½“åœ¨æ’å®šé©±åŠ¨åŠ›å’Œæ­£æ¯”äºé€Ÿåº¦çš„é˜»åŠ›å…±åŒä½œç”¨ä¸‹ï¼Œé€Ÿåº¦ä»å˜åŒ–é€æ¸è¾¾åˆ°ç¨³å®šå¹³è¡¡çš„åŠ¨æ€è¿‡ç¨‹ã€‚è¿™ä¹Ÿæ˜¯åç»­æ‰€æœ‰å…¬å¼æ¨å¯¼çš„åŸºç¡€ã€‚</p>
<p>å…¬å¼ (1.1.2) æ˜¯é€šè¿‡æ±‚è§£å…¬å¼ (1.1.1) å¾—åˆ°çš„ç²¾ç¡®è§£ï¼ˆé€šè§£ï¼‰ã€‚å…¶æè¿°äº†åœ¨ä»»ä½•åˆå§‹é€Ÿåº¦ $v_0$ å’Œä»»ä½•é©±åŠ¨åŠ› $a$ çš„æƒ…å†µä¸‹ï¼Œé€Ÿåº¦éšæ—¶é—´å˜åŒ–çš„å®Œæ•´è§„å¾‹ã€‚</p>
<p>å…¬å¼ (1.1.3) åˆ™æ˜¯å°†é©±åŠ¨åŠ› $a&#x3D;0$ æ—¶çš„ç‰¹æ®Šæƒ…å†µä»£å…¥å…¬å¼ (1.1.2) å¾—åˆ°çš„ç»“æœã€‚è¡¨æ˜ç‰©ä½“ä»…åœ¨é˜»åŠ›ä½œç”¨ä¸‹ï¼Œé€Ÿåº¦ä»åˆå€¼ $v_0$ å¼€å§‹æŒ‡æ•°è¡°å‡åˆ°é›¶çš„è¿‡ç¨‹ã€‚</p>
<blockquote>
<p>å…¶ä¸­ï¼Œ$f$ ä¸ºé˜»åŠ›ç³»æ•°ã€‚</p>
</blockquote>
<blockquote>
<p>ä½†æ˜¯ï¼ŒMinecraft æ˜¯ä»¥ tickï¼ˆåç»­å°†ç§°ä¸º gtï¼‰ä¸ºå•ä½è¿›è¡Œç¦»æ•£æ›´æ–°ï¼Œå³ $dt$ å’Œ $t_0$ çš„æœ€å°å€¼ä¸º 1gtï¼Œä¸èƒ½æ— é™è¶‹è¿‘äº 0ã€‚å› æ­¤è¿™ä¸€è§„åˆ™åœ¨æ¸¸æˆä¸­ä¸èƒ½ç²¾ç¡®å®ç°ã€‚</p>
</blockquote>
<h3 id="Mojang-å¯¹äºå®ä½“è¿åŠ¨çš„å®ç°"><a href="#Mojang-å¯¹äºå®ä½“è¿åŠ¨çš„å®ç°" class="headerlink" title="Mojang å¯¹äºå®ä½“è¿åŠ¨çš„å®ç°"></a>Mojang å¯¹äºå®ä½“è¿åŠ¨çš„å®ç°</h3><p>ä»¥ä¸‹æ˜¯å®ä½“åœ¨æ°´å¹³å’Œç©ºä¸­è¿åŠ¨æºä»£ç ç®€åŒ–ç‰ˆã€‚å·²åˆ å»ä¸å¿…è¦å’Œä¸ç›¸å…³çš„ä»£ç ã€‚</p>
<ul>
<li><p>åœ¨ <code>net/minecraft/entity/EntityLivingBase.java</code> ä¸­ï¼š</p>
<pre><code class="java">public void moveEntityWithHeading(float strafe, float forward) &#123;
    /**
     * ç¯å¢ƒæ£€æµ‹ä¸ç§»åŠ¨ç±»å‹åˆ¤æ–­
     * isInWater()ã€isInLava()ã€isFlying
     * æ°´ã€å²©æµ†ã€æ¢¯å­ç­‰ç‰¹æ®ŠçŠ¶æ€ç§»åŠ¨å¤„ç†ï¼ˆelse ifï¼‰
     */
    
    float f4 = 0.91F; // æƒ¯æ€§ç³»æ•°
    
    if (this.onGround) &#123;
        f4 = this.worldObj.getBlockState(
            new BlockPos(
                MathHelper.floor_double(this.posX),
                MathHelper.floor_double(this.getEntityBoundingBox().minY) - 1,
                MathHelper.floor_double(this.posZ)
            )
        )
        .getBlock()
        .slipperiness * 0.91F;
    &#125; // è·å–ä¸‹æ–¹æ–¹å—æ»‘åº¦ï¼ˆåç»­å°† slipperiness ç§°ä¸ºæ»‘åº¦ç³»æ•°ï¼‰
    
    float f = 0.16277136F / (f4 * f4 * f4);
    /**
     * (0.6*0.91)^3 = 0.16277136
     * ç§»åŠ¨ç³»æ•°
     */
    float f5;
    
    if (this.onGround) f5 = this.getAIMoveSpeed() * f;
    /**
     * f5 = this.landMovementFactor * f;
     * landMovementFactor åŸºç¡€æƒ…å†µä¸‹ä¸º 0.1ï¼Œç–¾è·‘æ—¶*1.3ï¼Œå—è¯æ°´æ•ˆæœå½±å“
     */
    else f5 = this.jumpMovementFactor;
    /**
     * jumpMovementFactor = 0.02;
     * ç–¾è·‘æ—¶*1.3ï¼Œä¸è¯æ°´æ•ˆæœæ— å…³
     */
    this.moveFlying(strafe, forward, f5); // é€Ÿåº¦è®¡ç®—
    
    // é‡æ–°è®¡ç®— f4
    // å—¯Â·Â·Â·å±å±±ä»£ç è¿™ä¸€å—ï¼ˆ
    
    this.moveEntity(this.motionX, this.motionY, this.motionZ); // å®ä½“ç§»åŠ¨
    
    // æœªåŠ è½½åŒºå—é‡åŠ›å¤„ç†
    
    this.motionY -= 0.08D; // é‡åŠ›
    this.motionY *= 0.9800000190734863D; // ç©ºæ°”é˜»åŠ›
    this.motionX *= (double)f4; this.motionZ *= (double)f4; // æ‘©æ“¦åŠ›ï¼ˆæ°´å¹³ï¼‰
    
    // ç©å®¶è‚¢ä½“åŠ¨ç”»æ›´æ–°
&#125;
</code></pre>
</li>
<li><p>æ–¹å—çš„æ»‘åº¦ç³»æ•°åœ¨ <code>net/minecraft/block/Block.java</code> ç­‰æ–‡ä»¶ä¸­å®šä¹‰ï¼š</p>
<pre><code class="java">// Block.java
public class Block &#123;
    // å…¶å®ƒæ–¹å—å±æ€§
    public float slipperiness;
    public Block(Material blockMaterialIn, MapColor blockMapColorIn) &#123;
        // å…¶å®ƒå±æ€§åˆå§‹åŒ–
        this.slipperiness = 0.6F;
    &#125;
&#125;

// BlockIce.java
public class BlockIce extends BlockBreakable &#123;
    public BlockIce() &#123;
        this.slipperiness = 0.98F;
    &#125;
&#125; // å†°

//BlockPackedIce.java
public class BlockPackedIce extends Block &#123;
    public BlockPackedIce() &#123;
        this.slipperiness = 0.98F;
    &#125;
&#125; // æµ®å†°

// BlockSlime.java
public class BlockSlime extends BlockBreakable &#123;
    public BlockSlime() &#123;
        this.slipperiness = 0.8F;
    &#125;
&#125; // å²è±å§†å—
</code></pre>
<p>æ»‘åº¦ç³»æ•°å°†ç”¨ $f_s$ åœ¨åç»­çš„å…¬å¼æ¨å¯¼ä¸­æ¥è¡¨ç¤ºã€‚</p>
<blockquote>
<p>ç‰¹åˆ«åœ°ï¼Œè“å†°åœ¨ 1.13 è¢«åŠ å…¥ï¼Œæ»‘åº¦ä¸º 0.989ã€‚æ­¤å¤„ä»…ä½œè¡¥å……ã€‚</p>
</blockquote>
</li>
<li><p>å®ä½“åœ¨åœ°é¢çš„ç§»é€Ÿï¼ˆé€šè¿‡ <code>getAIMoveSpeed()</code> å‡½æ•°è¿”å›ï¼Œæœ¬è´¨ä¸Šæ˜¯å˜é‡ <code>landMovementFactor</code> çš„å€¼ï¼‰åœ¨æ–‡ä»¶ <code>net/minecraft/entity/EntityLivingBase.java</code> å®šä¹‰ï¼š</p>
<pre><code class="java">public abstract class EntityLivingBase extends Entity &#123;
    private float landMovementFactor;
    public float getAIMoveSpeed() &#123;
        return this.landMovementFactor;
    &#125;
&#125;
</code></pre>
<p>å…¶åŸºæœ¬å€¼åœ¨ <code>net/minecraft/entity/player/PlayerCapabilities.java</code> ç»™å‡ºï¼š</p>
<pre><code class="java">public class PlayerCapabilities &#123;
    private float walkSpeed = 0.1F;
&#125;
</code></pre>
<p>ç–¾è·‘çŠ¶æ€çš„ä¿®é¥°åœ¨ <code>net/minecraft/entity/EntityLivingBase.java</code> ä¸­å®šä¹‰ï¼š</p>
<pre><code class="java">public abstract class EntityLivingBase extends Entity &#123;
    private static final AttributeModifier sprintingSpeedBoostModifier = 
        (new AttributeModifier(
            sprintingSpeedBoostModifierUUID,
            &quot;Sprinting speed boost&quot;,
            0.30000001192092896D,
            2
        )).setSaved(false);
&#125;
</code></pre>
<p>ç–¾è·‘é€Ÿåº¦åˆ™æ˜¯é€šè¿‡ <code>net/minecraft/entity/ai/attributes/ModifiableAttributeInstance.java</code> ä¸­çš„æ–¹æ³•å®ç°ï¼š</p>
<pre><code class="java">private double computeValue() &#123;
    double d0 = this.getBaseValue(); // å±æ€§åŸºæœ¬å€¼è·å–
    
    for (AttributeModifier attributemodifier : this.func_180375_b(0)) &#123;
        d0 += attributemodifier.getAmount();
    &#125;
    double d1 = d0;
    for (AttributeModifier attributemodifier1 : this.func_180375_b(1)) &#123;
        d1 += d0 * attributemodifier1.getAmount();
    &#125;
    for (AttributeModifier attributemodifier2 : this.func_180375_b(2)) &#123;
        d1 *= 1.0D + attributemodifier2.getAmount();
    &#125;
    // ä¸‰ç§ç±»å‹ä¿®é¥°å åŠ 
    
    return this.genericAttribute.clampValue(d1);
&#125;
</code></pre>
<p>å®ä½“åœ¨ç©ºä¸­çš„ç§»é€Ÿï¼ˆ<code>jumpMovementFactor</code>ï¼‰åœ¨ <code>net/minecraft/entity/EntityLivingBase.java</code> ä¸­å®šä¹‰ï¼š</p>
<pre><code class="java">public abstract class EntityLivingBase extends Entity &#123;
    public float jumpMovementFactor = 0.02F;
&#125;
</code></pre>
<p>ç–¾è·‘æ—¶åœ¨ <code>net/minecraft/entity/player/EntityPlayer.java</code> ä¸­æ›´æ–°ï¼š</p>
<pre><code class="java">public abstract class EntityPlayer extends EntityLivingBase &#123;
    public void onLivingUpdate() &#123;
        if (this.isSprinting()) &#123;
            this.jumpMovementFactor = (float)(
                (double)this.jumpMovementFactor +
                (double)this.speedInAir * 0.3D
            );
        &#125;
    &#125;
&#125;
</code></pre>
<p><del>å±å±±ä»£ç è¿™ä¸¤ç§è¿åŠ¨å®ç°è¿˜ä¸ä¸€æ · ):</del></p>
</li>
<li><p>å®ä½“çš„ã€Œmotionã€åœ¨ <code>net/minecraft/entity/Entity.java</code> ä¸­æ›´æ–°ï¼š</p>
<pre><code class="java">public void moveFlying(float strafe, float forward, float friction) &#123;
    float f = strafe * strafe + forward * forward;
    
    if (f &gt;= 1.0E-4F) &#123;
        f = MathHelper.sqrt_float(f); // æ¨¡é•¿ä¸º 1 çš„å•ä½å‘é‡
        if (f &lt; 1.0F) &#123;
            f = 1.0F; // é¿å…æ–œå‘é€Ÿåº¦å¼‚å¸¸
        &#125;
        
        f = friction / f;
        strafe = strafe * f;
        forward = forward * f;
        // æ‘©æ“¦ç³»æ•°åº”ç”¨
        
        float f1 = MathHelper.sin(this.rotationYaw * (float)Math.PI / 180.0F);
        float f2 = MathHelper.cos(this.rotationYaw * (float)Math.PI / 180.0F);
        
        this.motionX += (double)(strafe * f2 - forward * f1);
        this.motionZ += (double)(forward * f2 + strafe * f1);
        // 2D æ—‹è½¬çŸ©é˜µ
    &#125;
&#125;
</code></pre>
<p><code>strafe</code> å’Œ <code>forward</code> å˜é‡åœ¨ <code>net/minecraft/util/MovementInputFromOptions.java</code> ä¸­è·å–æŒ‰é”®è¾“å…¥æ›´æ–°ï¼š</p>
<pre><code class="java">public void updatePlayerMoveState() &#123;
    this.moveStrafe = 0.0F;
    this.moveForward = 0.0F;

    if (this.gameSettings.keyBindForward.isKeyDown()) &#123;
        ++this.moveForward;
    &#125;
    if (this.gameSettings.keyBindBack.isKeyDown()) &#123;
        --this.moveForward;
    &#125;
    if (this.gameSettings.keyBindLeft.isKeyDown()) &#123;
        ++this.moveStrafe;
    &#125;
    if (this.gameSettings.keyBindRight.isKeyDown()) &#123;
        --this.moveStrafe;
    &#125;
    
    // å…¶å®ƒæŒ‰é”®äº‹ä»¶
    
    /**
     * æ½œè¡Œäº‹ä»¶
     * moveStrafe å’Œ moveForward ä¹˜ä»¥ 0.3
     */
&#125;
</code></pre>
</li>
</ul>
<p>é€šè¿‡åˆ†æä¸Šè¿°ä»£ç å®ç°å¯ä»¥å¾—çŸ¥ï¼š</p>
<p>å®ä½“åœ¨æ°´å¹³æ–¹å‘ä¸Šçš„ã€Œmotion å±æ€§ã€ï¼Œåœ¨æ•°å€¼ä¸Šç­‰äºå½“å‰é€Ÿåº¦å‘é‡åœ¨<strong>å„åæ ‡è½´çš„åˆ†é‡ä¹˜ä»¥å¯¹åº”çš„é˜»åŠ›ç³»æ•°</strong>ï¼ˆå‚ç›´æ–¹å‘ä¸Šçš„ã€Œmotionã€è®¡ç®—ç•¥æœ‰ä¸åŒï¼‰ã€‚</p>
<p>è‹¥å°† $t_0$ æ—¶é—´å†…çš„ã€Œmotionã€è§†ä¸ºå¹³å‡é€Ÿåº¦ $M$ï¼Œé‚£ä¹ˆã€Œmotionã€ä¸é˜»åŠ›ç³»æ•°çš„ä¹˜ç§¯åœ¨ç‰©ç†æ„ä¹‰ä¸Šè¡¨ç¤ºåœ¨è¯¥æ—¶é—´æ®µå†…é˜»åŠ›å¯¹å®ä½“äº§ç”Ÿçš„<strong>å†²é‡</strong>ã€‚</p>
<blockquote>
<p>å®ä½“çš„ã€Œmotion å±æ€§ã€æœ¬è´¨ä¸Šæ˜¯å®ä½“è¿åŠ¨è®¡ç®—è¿‡ç¨‹ä¸­çš„ä¸­é—´é‡ï¼Œä»…åœ¨æ¸¸æˆæ‰§è¡Œ <code>moveFlying()</code> å‡½æ•°è®¡ç®—åï¼Œã€Œmotion å±æ€§ã€å¯è¢«è§†ä¸ºå®ä½“çš„é€Ÿåº¦ï¼ˆæˆ–è¯¥æ—¶é—´æ®µå†…çš„å¹³å‡é€Ÿåº¦è¿‘ä¼¼å€¼ï¼‰ã€‚</p>
</blockquote>
<h3 id="çº¿æ€§è¿åŠ¨å…¬å¼æ¨å¯¼"><a href="#çº¿æ€§è¿åŠ¨å…¬å¼æ¨å¯¼" class="headerlink" title="çº¿æ€§è¿åŠ¨å…¬å¼æ¨å¯¼"></a>çº¿æ€§è¿åŠ¨å…¬å¼æ¨å¯¼</h3><p>ä¸ºäº†æ–¹ä¾¿ç†è§£å…¬å¼ï¼Œåœ¨è¿™é‡Œå®šä¹‰ä¸€äº›å¿…è¦å‚æ•°ï¼š</p>
<ul>
<li>é€Ÿåº¦ï¼š$v_H$ã€$v_Y$ï¼Œå®ä½“åœ¨æ°´å¹³ä¸å‚ç›´ä¸Šçš„é€Ÿåº¦ã€‚</li>
<li>åˆå§‹å‚ç›´é€Ÿåº¦ï¼š$v_{Y,1}$ï¼Œå–å†³äºè·³è·ƒé€Ÿåº¦æˆ–æœåŠ¡å™¨å‚ç›´å‡»é€€å‚æ•°ã€‚</li>
<li>æ»‘åº¦ç³»æ•°ï¼š$f_s &#x3D; 0.6$ï¼ˆç©ºæ°”ä¸­ä¸å—è¯¥é˜»åŠ›å½±å“ï¼‰ã€‚</li>
<li>ç§»åŠ¨ä¹˜æ•°ï¼š$k_M &#x3D; 1.3 \times 0.98 &#x3D; 1.274$ï¼ˆåœæ­¢çŠ¶æ€ä¸‹ä¸º 0ï¼‰ã€‚</li>
<li>æ•ˆæœä¹˜æ•°ï¼š$k_E &#x3D; 1 \times 1 &#x3D; 1$.</li>
<li>åŠ¨é‡é˜ˆå€¼ï¼š$v_{th} &#x3D; 0.005$ï¼Œå½“å®ä½“åœ¨æŸæ¡è½´ä¸Šçš„é€Ÿåº¦ç»è¡°å‡åå°äºè¯¥å€¼æ—¶ï¼Œå¯¹åº”è½´ä¸Šçš„é€Ÿåº¦å½’é›¶ã€‚</li>
</ul>
<p>ç”±æ­¤æ¨å¯¼å¾—åˆ°å®ä½“è¿åŠ¨çš„é€’æ¨å…³ç³»ï¼ˆä¸»è¦å‚è€ƒ <a target="_blank" rel="noopener" href="https://www.mcpk.wiki/wiki/Main_Page">Minecraft Parkour Wiki</a>ï¼‰ï¼š</p>
<ul>
<li><p><strong>åœ°é¢æ°´å¹³é€Ÿåº¦å…¬å¼ï¼š</strong>$$v_{H,t} &#x3D; \underbrace{v_{H,t-1} \times f_{s, t-1} \times 0.91} _ \text{åŠ¨é‡ä¿ç•™} + \underbrace{0.1 \times \left( \frac{0.6}{f_{s,t}}\right)^3 \times k_M \times k_E} _ \text{åŠ é€Ÿåº¦} \tag{1.3.1}$$</p>
</li>
<li><p><strong>ç©ºä¸­æ°´å¹³é€Ÿåº¦å…¬å¼ï¼š</strong>$$v_{H,t} &#x3D; \underbrace{v_{H,t-1} \times 0.91} _ \text{åŠ¨é‡ä¿ç•™} + \underbrace{0.02 \times k_M} _ \text{åŠ é€Ÿåº¦} \tag{1.3.2}$$</p>
</li>
<li><p><strong>å‚ç›´é€Ÿåº¦å…¬å¼ï¼š</strong>$$v_{Y,t} &#x3D; ( v_{Y,t-1} - \mathop{0.08}\limits_\text{é‡åŠ›} ) \times \mathop{0.98}\limits_\text{é˜»åŠ›} \tag{1.3.3}$$</p>
</li>
</ul>
<blockquote>
<p>è€ƒè™‘åˆ°å®é™…åº”ç”¨åœºæ™¯ï¼Œä¸Šè¿°æ¨å¯¼ä¸­å¤§éƒ¨åˆ†ç³»æ•°æˆ–ä¹˜æ•°å‡ä½¿ç”¨ç‰¹æ®Šå€¼ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨åç»­ã€æœ€ä¼˜ kb çš„ç‚¹å‡»é¢‘ç‡ä¸‹é™åˆ†æã€ç« èŠ‚ä¸­ï¼Œå°†åŠ å…¥ç‚¹å‡»è¡Œä¸ºå¯¹é€Ÿåº¦çš„å½±å“æœºåˆ¶ã€‚</p>
</blockquote>
<hr>
<h2 id="é¼ æ ‡ç‚¹å‡»åˆ†æ"><a href="#é¼ æ ‡ç‚¹å‡»åˆ†æ" class="headerlink" title="é¼ æ ‡ç‚¹å‡»åˆ†æ"></a>é¼ æ ‡ç‚¹å‡»åˆ†æ</h2><h3 id="åŒå‡»å»¶è¿Ÿ"><a href="#åŒå‡»å»¶è¿Ÿ" class="headerlink" title="åŒå‡»å»¶è¿Ÿ"></a>åŒå‡»å»¶è¿Ÿ</h3><p>ç»æµ‹è¯•ï¼Œé¼ æ ‡åŒå‡»çš„è§¦å‘å»¶è¿Ÿä¸»è¦åˆ†å¸ƒåœ¨ $[16, 27]\ \mathrm{ms}$ åŒºé—´èŒƒå›´å†…ï¼Œå—ç¡¬ä»¶æ€§èƒ½ã€é©±åŠ¨ç¨‹åºã€ç³»ç»Ÿç¯å¢ƒç­‰å½±å“ï¼Œåœ¨ä¸åŒçš„æµ‹è¯•ç¯å¢ƒä¸‹ç•¥æœ‰å·®å¼‚ã€‚</p>
<p>è‹¥ä¸¤æ¬¡ç‚¹å‡»åˆ†åˆ«è½åœ¨ç›¸é‚»çš„ tick ä¸­ï¼Œåˆ™ç§°ä¸ºã€Œæœ‰æ•ˆåŒå‡»ã€ã€‚</p>
<h3 id="æœ‰æ•ˆåŒå‡»çš„æ¦‚ç‡è®¡ç®—"><a href="#æœ‰æ•ˆåŒå‡»çš„æ¦‚ç‡è®¡ç®—" class="headerlink" title="æœ‰æ•ˆåŒå‡»çš„æ¦‚ç‡è®¡ç®—"></a>æœ‰æ•ˆåŒå‡»çš„æ¦‚ç‡è®¡ç®—</h3><p>è®¾ç¬¬ä¸€æ¬¡ç‚¹å‡»çš„æ—¶é—´ä¸º $T$ï¼Œæœä»åŒºé—´ $[0,50]$ ä¸Šçš„å‡åŒ€åˆ†å¸ƒï¼š$$T \sim \mathcal{U}(0,50)$$</p>
<p>åŒå‡»å»¶è¿Ÿä¸º $D$ï¼Œæœä»åŒºé—´ $[16,27]$ ä¸Šçš„å‡åŒ€åˆ†å¸ƒï¼š$$D \sim \mathcal{U}(16,27)$$</p>
<p>åˆ™ã€Œæœ‰æ•ˆåŒå‡»ã€çš„æ¦‚ç‡ï¼š$$P(T + D \geq 50)$$</p>
<p>$T$ å’Œ $D$ ç›¸äº’ç‹¬ç«‹ï¼Œå…¶è”åˆæ¦‚ç‡å¯†åº¦å‡½æ•°ä¸ºï¼š</p>
<p>$$f_{T,D}(t,d) &#x3D; \frac{1}{50} \times \frac{1}{11} &#x3D; \frac{1}{550},\ t \in [0ï¼Œ50],\ d \in [16,27]$$</p>
<p>å±•å¼€ç§¯åˆ†å¹¶è®¡ç®—æ‰€æ±‚æ¦‚ç‡ï¼š</p>
<p>$$P(T + D \geq 50) &#x3D; \iint\limits_{t + d \geq 50} f_{T,D}(t, d)\ dt\ dd &#x3D; \int_{16}^{27} \int_{50 - d}^{50} \frac{1}{550}\ dt\ dd &#x3D; \frac{473}{1100} &#x3D; \frac{43}{100}$$</p>
<p><strong>å³ã€Œæœ‰æ•ˆåŒå‡»ã€çš„è§¦å‘æ¦‚ç‡ä¸º 43%.</strong></p>
<p>å¦‚æœä½ ä¸æƒ³é˜…è¯»è¿™éƒ¨åˆ†ç•¥å¾®ä»¤äººå¤´çš®å‘éº»çš„ç§¯åˆ†è¿˜å¯ä»¥é€šè¿‡æ¡ä»¶æœŸæœ›æ¥æ¨å¯¼è¯¥æ¦‚ç‡ï¼š</p>
<p>$$P(T + D \geq 50) &#x3D; P(T \geq 50 - D) &#x3D; E[P(T \geq 50 - D \mid D)]$$</p>
<p>å¯¹äºå›ºå®šçš„ $D,\ T \sim \mathcal{U}(0, 50)$ï¼Œä¸” $50 - D \in [23, 34] \subseteq [0, 50]$ï¼Œæœ‰ï¼š</p>
<p>$$P(T \geq 50 - D \mid D) &#x3D; \frac{50 - (50 - D)}{50} &#x3D; \frac{D}{50}$$</p>
<p>å¾—åˆ°ï¼š</p>
<p>$$P(T + D \geq 50) &#x3D; E\left[\frac{D}{50}\right] &#x3D; \frac{1}{50} E[D] &#x3D; \frac{1}{50} \times \frac{16 + 27}{2} &#x3D; \frac{43}{100}$$</p>
<p>ä¸ç§¯åˆ†è®¡ç®—çš„ç»“æœä¸€è‡´ã€‚</p>
<p>ğŸ§ â˜ ï¸</p>
<hr>
<h2 id="å‡»é€€ç®—æ³•æ‚è°ˆ"><a href="#å‡»é€€ç®—æ³•æ‚è°ˆ" class="headerlink" title="å‡»é€€ç®—æ³•æ‚è°ˆ"></a>å‡»é€€ç®—æ³•æ‚è°ˆ</h2><h3 id="åŸç‰ˆå‡»é€€ç®—æ³•"><a href="#åŸç‰ˆå‡»é€€ç®—æ³•" class="headerlink" title="åŸç‰ˆå‡»é€€ç®—æ³•"></a>åŸç‰ˆå‡»é€€ç®—æ³•</h3><p>å½“ç©å®¶æ”»å‡»æ—¶è°ƒç”¨ <code>net/minecraft/entity/player/EntityPlayer.java</code>  æ–‡ä»¶ä¸­çš„  <code>attackTargetEntityWithCurrentItem()</code> å‡½æ•°å¤„ç†è¯¥è¿‡ç¨‹ï¼š</p>
<pre><code class="java">public abstract class EntityPlayer extends EntityLivingBase &#123;
    public void attackTargetEntityWithCurrentItem(Entity targetEntity) &#123; 
        /**
         * å¯æ”»å‡»æ£€æŸ¥
         * åŸºç¡€ä¼¤å®³è®¡ç®—
         * é™„é­”ä¼¤å®³è®¡ç®—
         */
        
        int i = 0;
        i = i + EnchantmentHelper.getKnockbackModifier(this);
        if (this.isSprinting()) &#123;
            ++i;
        &#125;
        // å‡»é€€æ•ˆæœè®¡ç®—
             
        /** 
         * ä¼¤å®³æœ‰æ•ˆæ€§æ£€æŸ¥
         * æš´å‡»åˆ¤æ–­
         * ç«ç„°é™„åŠ 
         */
        
        double d0 = targetEntity.motionX;
        double d1 = targetEntity.motionY;
        double d2 = targetEntity.motionZ;
        boolean flag2 = targetEntity.attackEntityFrom(DamageSource.causePlayerDamage(this), f);
        // ä¼¤å®³åº”ç”¨
        
        if (flag2) &#123;
            if (i &gt; 0) &#123;
                targetEntity.addVelocity(
                    (double)(-MathHelper.sin(
                            this.rotationYaw * (float)Math.PI / 180.0F) * (float)i * 0.5F),
                            0.1D,
                    (double)(MathHelper.cos(
                            this.rotationYaw * (float)Math.PI / 180.0F) * (float)i * 0.5F)
                    ); // ç¬¬äºŒé˜¶æ®µå‡»é€€è®¡ç®—
                
                this.motionX *= 0.6D;
                this.motionZ *= 0.6D;
                this.setSprinting(false);
                // æ”»å‡»è€…å‡é€Ÿå¹¶å–æ¶ˆç–¾è·‘çŠ¶æ€
            &#125;
            
            if (targetEntity instanceof EntityPlayerMP &amp;&amp; targetEntity.velocityChanged) &#123;
                ((EntityPlayerMP)targetEntity).playerNetServerHandler.sendPacket(
                    new S12PacketEntityVelocity(targetEntity)
                );
                targetEntity.velocityChanged = false;
                targetEntity.motionX = d0;
                targetEntity.motionY = d1;
                targetEntity.motionZ = d2;
            &#125; // é¿å…é‡å¤å åŠ å‡»é€€
        
        /**
         * ä¼¤å®³æˆåŠŸåç»­å¤„ç†
         * æ”»å‡»å¤±è´¥å¤„ç†
         */
    &#125;
&#125;
</code></pre>
<pre><code class="java">// net/minecraft/entity/EntityLivingBase.java
public abstract class EntityLivingBase extends Entity &#123;
    public boolean attackEntityFrom(DamageSource source, float amount) &#123;
        /**
         * æ£€æŸ¥å®ä½“æ˜¯å¦å¯¹ç‰¹å®šä¼¤å®³æºå…ç–«
         * å®¢æˆ·ç«¯æ£€æŸ¥
         * æ­»äº¡æ£€æŸ¥
         * ç‰¹æ®Šä¼¤å®³å…ç–«ï¼ˆæŠ—ç«ï¼‰
         * è£…å¤‡å‡ä¼¤
         * ä¼¤å®³åˆ»ï¼ˆç‰¹åˆ«åœ°ï¼Œè¯¥æ—¶é—´æ®µå†…æ›´é«˜çš„ä¼¤å®³ä¼šè¦†ç›–åŸæœ‰ä¼¤å®³ï¼‰
         * æ”»å‡»è€…åˆ¤æ–­
         * è§†è§‰æ›´æ–°ï¼ˆä¼¤å®³åŠ¨ç”»ï¼‰
         */
    
        double d1 = entity.posX - this.posX;
        double d0;
        for(d0 = entity.posZ - this.posZ;
            d1 * d1 + d0 * d0 &lt; 1.0E-4D;
            d0 = (Math.random() - Math.random()) * 0.01D) &#123;
            d1 = (Math.random() - Math.random()) * 0.01D;
        &#125; // è·ç¦»è¿‡è¿‘çš„éšæœºå‡»é€€

        this.attackedAtYaw = (float)(
            MathHelper.atan2(d0, d1) * 180.0D / Math.PI 
            - (double)this.rotationYaw
        );
        
        this.knockBack(entity, amount, d1, d0);  // æ‰§è¡Œå‡»é€€
        
        // å…¶å®ƒæ“ä½œ
    &#125;
    
    public void knockBack(Entity entityIn, float amount, double d0, double d1) &#123;
        if (this.rand.nextDouble() &gt;= this.getEntityAttribute(
            SharedMonsterAttributes.knockbackResistance).getAttributeValue()) &#123;
            this.isAirBorne = true;
            float f = MathHelper.sqrt_double(d0 * d0 + d1 * d1);
            float f1 = 0.4F;

            this.motionX /= 2.0D;
            this.motionY /= 2.0D;
            this.motionZ /= 2.0D;
            // å—å‡»è€…é€Ÿåº¦è¡°å‡

            this.motionX -= d0 / (double)f * (double)f1;
            this.motionY += (double)f1;
            this.motionZ -= d1 / (double)f * (double)f1;
            // ç¬¬ä¸€é˜¶æ®µå‡»é€€è®¡ç®—

            if (this.motionY &gt; 0.4000000059604645D) &#123;
                this.motionY = 0.4000000059604645D;
            &#125; // å‚ç›´å‡»é€€ä¸Šé™
        &#125;
    &#125;
&#125;
</code></pre>
<pre><code class="java">// net/minecraft/entity/Entity.java
public abstract class Entity implements ICommandSender &#123;
    protected void setBeenAttacked() &#123;
        this.velocityChanged = true;
    &#125;
    public boolean attackEntityFrom(DamageSource source, float amount) &#123;
        if (this.isEntityInvulnerable(source)) &#123;
            return false;
        &#125; else &#123;
            this.setBeenAttacked();
            return false;
        &#125;
    &#125;
&#125;
</code></pre>
<p>ä¸ºäº†æ›´æ¸…æ™°åœ°ç†è§£å‡»é€€æœºåˆ¶ï¼Œåœ¨è¿™é‡Œå®šä¹‰ä»¥ä¸‹å‚æ•°ï¼š</p>
<ul>
<li><code>horizontal</code>ï¼šåŸºç¡€æ°´å¹³å‡»é€€ã€‚å¯¹åº” <code>knockBack()</code> å‡½æ•°ä¸­çš„ <code>f1</code> å˜é‡ï¼Œé»˜è®¤å€¼ä¸º 0.4</li>
<li><code>vertical</code>ï¼šåŸºç¡€å‚ç›´å‡»é€€ã€‚å…¶æ•°å€¼ä¸åŸºç¡€æ°´å¹³å‡»é€€ç›¸åŒï¼Œä¸º 0.4</li>
<li><code>horizontalExtra</code>ï¼šé¢å¤–æ°´å¹³å‡»é€€ã€‚ä»…è€ƒè™‘ç–¾è·‘çš„å› ç´ ï¼Œå³ <code>i = 1</code>ï¼Œå€¼ä¸º 0.5</li>
<li><code>verticalExtra</code>ï¼šé¢å¤–å‚ç›´å‡»é€€ã€‚<code>addVelocity()</code> å‡½æ•°ä¸­çš„å åŠ å›ºå®šé¢å¤–å‚ç›´å‡»é€€ï¼Œé»˜è®¤å€¼ä¸º 0.1</li>
<li><code>verticalLimit</code>ï¼šå‚ç›´å‡»é€€ä¸Šé™ã€‚<code>motionY</code> çš„æœ€å¤§å€¼ 0.4</li>
<li><code>friction</code>ï¼šæš‚æ— åˆé€‚çš„è¯‘æ³•ã€‚è¡¨ç¤ºç©å®¶å—å‡»æ—¶å„è½´çš„é€Ÿåº¦è¡°å‡ï¼ˆåŒºåˆ«äºæ–¹å—çš„ frictionï¼‰ï¼Œé»˜è®¤å€¼ä¸º 2.0</li>
</ul>
<p>åŸºäºä¸Šè¿°ä»£ç åˆ†æå¯çŸ¥ç©å®¶å—åˆ°çš„å‡»é€€æ•ˆæœä¸»è¦åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li><strong>å‡»é€€çš„ç¬¬ä¸€é˜¶æ®µï¼š</strong>ä»…ä¸åŒæ–¹åœ¨ XZ è½´ä¸Šçš„ç›¸å¯¹ä½ç½®ç›¸å…³ã€‚</li>
<li><strong>å‡»é€€çš„ç¬¬äºŒé˜¶æ®µ</strong>ï¼šä»…ä¸æ”»å‡»è€…çš„åèˆªè§’ï¼ˆyawï¼‰å’Œæ”»å‡»è€…çš„çŠ¶æ€ï¼ˆæœ¬æ–‡åªè€ƒè™‘ç–¾è·‘ï¼‰ç›¸å…³ã€‚</li>
</ul>
<h3 id="MMC-å‡»é€€ç®—æ³•"><a href="#MMC-å‡»é€€ç®—æ³•" class="headerlink" title="MMC å‡»é€€ç®—æ³•"></a>MMC å‡»é€€ç®—æ³•</h3><p>æœ¬å°èŠ‚é‡ç‚¹è®¨è®ºä¸åŸç‰ˆå‡»é€€ç®—æ³•ä¸åŒä¹‹å¤„ã€‚</p>
<blockquote>
<p> è¯¦ç»†å®ç°è§ <a target="_blank" rel="noopener" href="https://github.com/Revethere/Files/blob/master/BlogFiles/academic%40how-does-kb-work-exactly/How%20MMC%20Knockback%20Actually%20Works.pdf">How MMC Knockback Actually Works</a>.</p>
</blockquote>
<p>MMC å¼•å…¥äº†ä»¥ä¸‹æ–°çš„æˆ–ä¿®æ”¹çš„å‚æ•°ï¼š</p>
<pre><code class="java">totalHorizontal = 0.8835d    // æ€»æ°´å¹³å‡»é€€
totalVertical = 0.9055d      // æ€»å‚ç›´å‡»é€€
rangeFactor = 0.035d         // è·ç¦»å½±å“ç³»æ•°
maxReduction = 0.4d          // æœ€å¤§è·ç¦»å‡å…
startRange = 3.0d            // è·ç¦»å‡å…èµ·å§‹è®¡ç®—è·ç¦»
idleReduction = 0.6d         // åŸºç¡€å‡»é€€å€ç‡
attackBuffer = 1             // æ”»å‡»ç¼“å­˜

// è®¡ç®—åçš„å®é™…å€¼
horizontal = totalHorizontal * idleReduction             // åŸºç¡€æ°´å¹³å‡»é€€
horizontalExtra = totalHorizontal * (1 - idleReduction)  // é¢å¤–æ°´å¹³å‡»é€€
vertical = totalVertical * 0.4d                          // åŸºç¡€å‚ç›´å‡»é€€
verticalExtra = 0.0d                                     // é¢å¤–å‚ç›´å‡»é€€
verticalLimit = 0.4d                                     // å‚ç›´å‡»é€€ä¸Šé™
attackerSlowdown = 0.6d
friction = 0.0d
</code></pre>
<p>ä¸éš¾çœ‹å‡ºï¼š</p>
<ul>
<li><code>idleReduction</code> å†³å®šäº†åŸºç¡€æ°´å¹³å‡»é€€å’Œé¢å¤–æ°´å¹³å‡»é€€çš„å¤§å°ï¼Œå¹¶ä¸ <code>totalHorizontal</code> çš„å€¼ç´§å¯†ç›¸å…³ã€‚</li>
<li><code>verticalExtra</code> çš„å€¼å½’é›¶ï¼Œå³ç©å®¶çš„å‚ç›´å‡»é€€å›ºå®šã€‚</li>
<li><code>attackBuffer</code> æä¾›ä¼¤å®³åˆ»ç»“æŸå‰çš„æ”»å‡»çª—å£ã€‚</li>
<li>å¢åŠ äº† <code>rangeFactor</code>ã€<code>maxReduction</code>ã€<code>startRange</code> å‚æ•°ç”¨äºå‡å…ç”±äºå»¶è¿Ÿé€ æˆçš„è¿œè·ç¦»æ”»å‡»æ³¨å†Œçš„å‡»é€€ã€‚</li>
</ul>
<blockquote>
<p>ç‰¹åˆ«åœ°ï¼Œå½“ <code>friction = 0.0</code> æ—¶ï¼Œå—å‡»è€…çš„åŠ¨é‡å½’é›¶ï¼Œå³å‡»é€€å®Œå…¨è¦†ç›–åŸé€Ÿåº¦ã€‚</p>
</blockquote>
<p>ç¬¬ä¸€é˜¶æ®µå‡»é€€ç®—æ³•ï¼š</p>
<pre><code class="java">void firstStage(EntityLiving attacker, EntityLiving victim) &#123;
    // çœç•¥éƒ¨åˆ†ä¼ªä»£ç 
    
    double distance = Math.sqrt(distanceX * distanceX + distanceZ * distanceZ);
    double rangeReduction = calculateRangeReduction(distance)
    double modifiedHorizontal = horizontal - rangeReduction // è¿œè·ç¦»å‡»é€€è¡°å‡
    
    double magnitude = Math.sqrt(distanceX * distanceX + distanceZ * distanceZ)
    
    victim.motX -= (distanceX / magnitude) * (modifiedHorizontal * 0.5d)
    victim.motZ -= (distanceZ / magnitude) * (modifiedHorizontal * 0.5d)
    
    double yaw = Math.toRadians(attacker.yaw)
    victim.motX += -Math.sin(yaw) * (modifiedHorizontal * 0.5d)
    victim.motZ += Math.cos(yaw) * (modifiedHorizontal * 0.5d)
&#125;
</code></pre>
<p>ä¸åŸç‰ˆä¸åŒçš„æ˜¯ï¼ŒMMC ç®—æ³•ä¸­ç¬¬ä¸€é˜¶æ®µçš„å‡»é€€åŒæ—¶ä¸ç©å®¶çš„ç›¸å¯¹ä½ç½®å’Œæ”»å‡»è€…çš„åèˆªè§’ç›¸å…³ï¼ˆå æ¯”å„ 50%ï¼‰ã€‚å¹¶å¢åŠ äº† <code>calculateRangeReduction()</code> å‡½æ•°ç”¨äºå‡å…è¿œè·ç¦»å‡»é€€ã€‚</p>
<p>ç¬¬äºŒé˜¶æ®µå‡»é€€ç®—æ³•ä¸ç¬¬ä¸€é˜¶æ®µç›¸ä¼¼ï¼š</p>
<pre><code class="java">void secondStage(EntityLiving attacker, EntityLiving victim, int knockbackEnchantLevel) &#123;
    // çœç•¥éƒ¨åˆ†ä¼ªä»£ç 
    
    if (extraKBMult &gt; 0) &#123;
        double distanceX = attacker.locX - victim.locX
        double distanceZ = attacker.locZ - victim.locZ
        double distance = Math.sqrt(distanceX * distanceX + distanceZ * distanceZ)
        double modifiedExtraHorizontal = horizontalExtra * extraKBMult // é¢å¤–å‡»é€€
        
        double magnitude = Math.sqrt(distanceX * distanceX + distanceZ * distanceZ)
        
        victim.motX -= (distanceX / magnitude) * (modifiedExtraHorizontal * 0.5d)
        victim.motZ -= (distanceZ / magnitude) * (modifiedExtraHorizontal * 0.5d)
        
        double yaw = Math.toRadians(attacker.yaw)  
        victim.motX += -Math.sin(yaw) * (modifiedExtraHorizontal * 0.5d)
        victim.motZ += Math.cos(yaw) * (modifiedExtraHorizontal * 0.5d)
    &#125;
&#125;
</code></pre>
<p>é¢å¤–æ°´å¹³å‡»é€€ç”± <code>horizontalExtra</code> å‚æ•°å’Œ <code>extraKBMult</code> å…±åŒå†³å®šã€‚å¹¶ä¿æŒä¸ç¬¬ä¸€é˜¶æ®µç›¸åŒçš„ 50&#x2F;50 åˆ†é…ã€‚</p>
<hr>
<h2 id="æœ€ä¼˜-kb-çš„ç‚¹å‡»é¢‘ç‡ä¸‹é™åˆ†æ"><a href="#æœ€ä¼˜-kb-çš„ç‚¹å‡»é¢‘ç‡ä¸‹é™åˆ†æ" class="headerlink" title="æœ€ä¼˜ kb çš„ç‚¹å‡»é¢‘ç‡ä¸‹é™åˆ†æ"></a>æœ€ä¼˜ kb çš„ç‚¹å‡»é¢‘ç‡ä¸‹é™åˆ†æ</h2><hr>
<h2 id="ä¸€èµ·æ¥å“é‰´èµ¤çŸ³-Mojang-çš„ä»£ç "><a href="#ä¸€èµ·æ¥å“é‰´èµ¤çŸ³-Mojang-çš„ä»£ç " class="headerlink" title="ä¸€èµ·æ¥å“é‰´èµ¤çŸ³ Mojang çš„ä»£ç "></a>ä¸€èµ·æ¥<del>å“é‰´</del>èµ¤çŸ³ Mojang çš„ä»£ç </h2><hr>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a target="_blank" rel="noopener" href="https://www.mcpk.wiki/wiki/Movement_Formulas">è¿åŠ¨å…¬å¼ - Minecraft Parkour Wiki</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/Revethere/Files/blob/master/BlogFiles/academic%40how-does-kb-work-exactly/How%20MMC%20Knockback%20Actually%20Works.pdf">How MMC Knockback Actually Works</a></p>
<p><a target="_blank" rel="noopener" href="https://pages.carm.cc/dev/knockback-study.html">å¯¹æˆ‘çš„ä¸–ç•Œä¸­PVPå‡»é€€çš„ç ”ç©¶æŠ¥å‘Š - LSeng, CarmJos</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/opus/175537636967628180">å…³äºä¿®æ­£å¹¶æ”¹è¿› xwj çš„ MC å®ä½“è¿åŠ¨å…¬å¼ â€”â€” é€‚ç”¨äºMCä¸­æ‰€æœ‰å®ä½“ - Bio-Hazard</a></p>
<p><a target="_blank" rel="noopener" href="http://lovexyn0827.space/mcdocs/docs/Minecraft%E5%AE%9E%E4%BD%93%E8%BF%90%E5%8A%A8%E7%A0%94%E7%A9%B6%E4%B8%8E%E5%BA%94%E7%94%A8/0-Minecraft%E5%AE%9E%E4%BD%93%E8%BF%90%E5%8A%A8%E7%9B%B8%E5%85%B3%E7%A0%94%E7%A9%B6%E4%B8%8E%E5%BA%94%E7%94%A8.html">Minecraft å®ä½“è¿åŠ¨ç ”ç©¶ä¸åº”ç”¨ - lovexyn0827</a></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=o-a0szldhs8">The ULTIMATE Guide to PING - sceyna</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/Marcelektro/MCP-919">MCP-919 ( Fully decompiled )</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/CobbleSword/NachoSpigot">NachoSpigot</a></p>
<h2 id="è‡´è°¢"><a href="#è‡´è°¢" class="headerlink" title="è‡´è°¢"></a>è‡´è°¢</h2><p><a target="_blank" rel="noopener" href="https://space.bilibili.com/298238084">è”šè“å¤©ç©ºAzure_Sky</a></p>
<p><a target="_blank" rel="noopener" href="https://space.bilibili.com/165837583">æ—¶ä»£åœ°äº§</a></p>
<h2 id="é™„ä»¶"><a href="#é™„ä»¶" class="headerlink" title="é™„ä»¶"></a>é™„ä»¶</h2><h2 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h2><p>25.11.30 - å‘å¸ƒå·²åŸºæœ¬å†™å®Œçš„ä¸‰ç« </p>

    </div>
    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2024 - 2025 Revethere&#39;s Blog
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Revethereâ‚‚â‚€â‚‚â‚„
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>

    <canvas
        id="background"
        style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: -1"
    ></canvas>
    <script src="/js/background.min.js"></script>

    <canvas
        id="fireworks"
        style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"
    ></canvas>
    <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="/js/fireworks.min.js"></script>

    
    




    
</body>
</html>
